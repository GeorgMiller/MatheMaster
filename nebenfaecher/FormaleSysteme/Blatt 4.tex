% This work is licensed under the Creative Commons
% Attribution-NonCommercial-ShareAlike 4.0 International License. To view a copy
% of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/ or
% send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\documentclass[12pt,a4paper]{article} 

\input{../../latex/packages}
\input{../../latex/theoremenvironments}
\input{../../latex/commands}
\input{../../latex/commands_Willi}

\author{Willi Sontopski}

\parindent0cm %Ist wichtig, um führende Leerzeichen zu entfernen

\usepackage{pdflscape}
\usepackage{rotating}
\usepackage{scrpage2}
\pagestyle{scrheadings}
\clearscrheadfoot

\ihead{Willi Sontopski}
\chead{Formale Systeme WiSe 18 19}
\ohead{}
\ifoot{Blatt 3}
\cfoot{Version: \today}
\ofoot{Seite \pagemark}

\newcommand{\F}{\mathcal{F}}

\usepackage{tikz-qtree}
\usetikzlibrary{positioning,automata}


\begin{document}
%\setcounter{section}{1}

\section*{Aufgabe 4.1}
Zu zeigen:
\begin{align*}
\F'\models G:\Longleftrightarrow\big(\forall I:I\models\F'\implies I\models G\big)
\end{align*}
Sei also $I$ beliebige Interpretation mit $I\models\F'$. Dann gilt nach Definition
\begin{align*}
\forall F'\in\F':I\models F'
\end{align*}
Da $\F\stackrel{\text{Vor}}{\subseteq}\F'$ folgt 
\begin{align*}
\forall F\in\F:I\models F
\end{align*}
Aus der Voraussetzung $\F\models G$ folgt nun $I\models G$. $\square$

\section*{Aufgabe 4.2}
\subsection*{Aufgabe 4.2 (a)}
\begin{align*}
m &\to\neg s\\
\neg m&\to s\wedge t\\
\neg s\vee t&\to d\\
d&\to a
\end{align*}

\subsection*{Aufgabe 4.2 (b)}
Kann beides nicht gefolgert werden, denn:\\
\underline{Fall 1:} $m\to \neg s\to d\to a$\\
\underline{Fall 2:} $\neg m\to s\wedge t\to d\to a$\\

\section*{Aufgabe 4.3}
Beachte zunächst
\begin{align*}
G\equiv F &\stackrel{\text{Def}}{\Longleftrightarrow}
\Big(\forall I:I\models F\gdw I\models G\Big)\\
&\stackrel{\text{Def}}{\Longleftrightarrow}\Big(\forall I:G^I=\top\gdw F^I=\top\Big)\\
&\Longleftrightarrow\forall I:F^I=G^I
\end{align*}

Sei also $I$ eine beliebige Interpretation im Folgenden.

\subsection*{Aufgabe 4.3 (a)}
\begin{align*}
[F\vee F]^I=F^I\vee^\ast F^I\stackeq{\text{Tab}} F^I
\end{align*}
\begin{tabular}{c||c}
$F$ & $F\vee^\ast F$\\ \hline
$\top$ & $\top$\\% & $\top$\\
$\bot$ & $\bot$ %& $\top$\\
%$\bot$ & $\top$ & $\top$\\
%$\bot$ & $\bot$ & $\bot$
\end{tabular}

\subsection*{Aufgabe 4.3 (b)}
\begin{align*}
[\neg(F\wedge G]^I=\neg^\ast\left(F^I\wedge^\ast G^I\right)\stackeq{\text{Tab}}
\left(\neg^\ast F^I\vee^\ast\neg^\ast G^I\right)=\big[(\neg F\vee\neg G)\big]
\end{align*}
\begin{tabular}{c|c||c|c}
$F$ & $G$ & $\neg^\ast(F\wedge^\ast G)$ & $(\neg^\ast F\vee^\ast\neg^\ast G)$\\ \hline
$\top$ & $\top$ & $\bot$ & $\bot$\\
$\top$ & $\bot$ & $\top$ & $\top$\\
$\bot$ & $\top$ & $\top$ & $\top$\\
$\bot$ & $\bot$ & $\top$ & $\top$
\end{tabular}

\subsection*{Aufgabe 4.3 (c)}
Analog zu (a) und (b).

\subsection*{Aufgabe 4.3 (d)}
Analog zu (a) und (b).

\subsection*{Aufgabe 4.3 (e)}
Analog zu (a) und (b).

\subsection*{Aufgabe 4.3 (f)}
Analog zu (a) und (b).

\subsection*{Aufgabe 4.3 (g)}
Analog zu (a) und (b).

\section*{Aufgabe 4.4}
Sei $\mathcal{R}=\lbrace p_1,p_2,\ldots\rbrace$ eine Menge von aussagenlogischen Variablen, $J_1:=\lbrace J_1^1,\ldots,J_1^4\rbrace$ die Menge der einstelligen Junktoren und $J_2:=\lbrace J_2^1,\ldots,J_2^{16}\rbrace$ die Menge der zweistelligen Junktoren. (Es gibt nach Vorlesung genau 4 einstellige und 16 zweistellige Junktoren). Nun zeigt man durch strukturelle Induktion die Behauptung mit 16 + 4 Induktionsschritten:
\begin{enumerate}
\item $J_1^1 A\equiv\neg A$
\item $J_1^2 A\equiv\neg\neg A$
\item $J_1^3 A\equiv A\vee\neg A$
\item $J_1^4 A\equiv\neg(A\vee\neg A)$
\end{enumerate}
und
\begin{enumerate}
\item $A J_2^1 B\equiv A\vee B$
\item $A J_2^2 B=A\wedge B\equiv\neg(\neg A\vee\neg B)$
\item $A J_2^3 B=A\to B\equiv\neg A\vee B$
\item $\ldots$
\end{enumerate}

\section*{Aufgabe 4.5}
\subsection*{Aufgabe 4.5 (a)}
\begin{tikzpicture}[node distance=5em]
\tikzstyle{every state}=[shape=circle,draw=black]
\node[state] (1) {$\neg:\Lambda$};
\node[state] (2) [below = of 1] {$\wedge:1$};
\node[state] (3) [below left = of 2] {$p:11$};
\node[state] (4) [below right = of 2] {$\vee:12$};
\node[state] (5) [below left = of 4] {$q:121$};
\node[state] (6) [below right = of 4] {$\neg:122$};
\node[state] (7) [below of =6] {$p:1221$};
\path (2) edge [, -] node {} (1)
      (3) edge [, -] node {} (2)
	  (4) edge [, -] node {} (2)
	  (5) edge [, -] node {} (4)
	  (6) edge [, -] node {} (4)
	  (7) edge [, -] node {} (6)
	;	
\end{tikzpicture}
\begin{align*}
\mathcal{P}_F=\lbrace\Lambda,1,11,12,121,122,1221\rbrace
\end{align*}

\subsection*{Aufgabe 4.5 (b)}
\begin{tikzpicture}[node distance=5em]
\tikzstyle{every state}=[shape=circle,draw=black]
\node[state] (1) {$\neg:\Lambda$};
\node[state] (2) [below = of 1] {$\neg:1$};
\node[state] (3) [below = of 2] {$\wedge:11$};
\node[state] (4) [left = of 3] {$\vee:111$};
\node[state] (5) [below left = of 4] {$p:1111$};
\node[state] (6) [below right = of 4] {$q:1112$};
\node[state] (7) [right = of 3] {$\vee:112$};
\node[state] (8) [below left = of 7] {$q:1121$};
\node[state] (9) [below right = of 7] {$\neg:1122$};
\node[state] (10) [below = of 9] {$p:11221$};
\path (2) edge [, -] node {} (1)
      (3) edge [, -] node {} (2)
	  (4) edge [, -] node {} (3)
	  (5) edge [, -] node {} (4)
	  (6) edge [, -] node {} (4)
	  (7) edge [, -] node {} (3)
	  (8) edge [, -] node {} (7)
	  (9) edge [, -] node {} (7)
	  (10) edge [, -] node {} (9)
	;	
\end{tikzpicture}
\begin{align*}
G[1122\Lambda]&=\Big[\neg\neg((p\vee q)\wedge(q\vee\neg p))\Big][1122\Lambda]\\
&\stackeq{\text{2.}}
\Big[\neg((p\vee q)\wedge(q\vee\neg p))\Big][122\Lambda]\\
&\stackeq{\text{2.}}
\Big[((p\vee q)\wedge(q\vee\neg p))\Big][22\Lambda]\\
&\stackeq{\text{3.}}
\Big[(q\vee\neg p)\Big][2\Lambda]\\
&\stackeq{\text{3.}}
[\neg p][\Lambda]\\
&\stackeq{\text{1.}}[\neg p]=\neg p
\end{align*}

\subsection*{Aufgabe 4.5 (c)}
\begin{tikzpicture}[node distance=3em]
\tikzstyle{every state}=[shape=circle,draw=black]
\node[state] (1) {$\neg:\Lambda$};
\node[state] (2) [below = of 1] {$\wedge:1$};
\node[state] (3) [below left = of 2] {$\neg:11$};
\node[state] (4) [below left = of 3] {$\vee:111$};
\node[state] (5) [below left = of 4] {$p:1111$};
\node[state] (6) [below right= of 4] {$q:1112$};
\node[state] (7) [below right = of 2] {$\neg:12$};
\node[state] (8) [below right = of 7] {$\vee:121$};
\node[state] (9) [below left = of 8] {$q:1211$};
\node[state] (10) [below right = of 8] {$\neg:1212$};
\node[state] (11) [below = of 10] {$p:12121$};
\path (2) edge [, -] node {} (1)
      (3) edge [, -] node {} (2)
	  (4) edge [, -] node {} (3)
	  (5) edge [, -] node {} (4)
	  (6) edge [, -] node {} (4)
	  (7) edge [, -] node {} (2)
	  (8) edge [, -] node {} (7)
	  (9) edge [, -] node {} (8)
	  (10) edge [, -] node {} (8)
	  (11) edge [, -] node {} (10)
	;	
\end{tikzpicture}
\begin{align*}
H\Big[121\Lambda\mapsto(\neg p\to q)\Big]&=
\Big[\neg(\neg(p\vee q)\wedge\neg(q\vee\neg p))\Big]\Big[121\Lambda\mapsto(\neg p\to q)\Big]\\
&\stackeq{\text{2.}}
\neg\Big[(\neg(p\vee q)\wedge\neg(q\vee\neg p))\Big]\Big[21\Lambda\mapsto(\neg p\to q)\Big]\\
&\stackeq{\text{4.}}
\neg\Big(\neg(p\vee q)\wedge\Big[\neg(q\vee\neg p)\Big]\Big)\Big[1\Lambda\mapsto(\neg p\to q)\Big]\\
&\stackeq{\text{2.}}
\neg\Big(\neg(p\vee q)\wedge\neg\Big[(q\vee\neg p)\Big]\Big)\Big[\Lambda\mapsto(\neg p\to q)\Big]\\
&\stackeq{\text{1.}}
\neg\Big(\neg(p\vee q)\wedge\neg(\neg p\to q)\Big)
\end{align*}
Zur semantischen Äquivalenz:
\begin{align*}
H\equiv H\Big[121\Lambda\mapsto(\neg p\to q)\Big]
&\Longleftrightarrow(q\vee\neg p)\equiv(\neg p\to q)\\
&\stackrel{4.3(c)}{\Longleftrightarrow}
(q\vee\neg p)\equiv(p\vee q)
\end{align*}
Die letzten beiden Ausdrücke sind offenbar nicht semantisch äquivalent.

\section*{Aufgabe 4.6}
\subsection*{Aufgabe 4.6 (a)}
Die Aussage gilt nicht, denn betrache folgendes Gegenbeispiel:\\
$F=p\vee p=p\vee G$ mit $\pi=12$ und $H=\neg p$. Dann sind $F,G,H$ erfüllbar aber \\
$F[\pi\to H]=p\vee\neg p$ ist unerfüllbar.

\subsection*{Aufgabe 4.6 (b)}
Die Aussage stimmt, denn:\\
Durch scharfes hinsehen (oder Wahrheitswertetabelle) sieht man (aufgrund der Unerfüllbarkeit von $G$)
\begin{align*}
G\equiv((H\wedge G)\wedge(H\vee G))
\end{align*}
Nach Satz 3.23 folgt damit die Behauptung, da eine $F$ eine Teilformel durch eine semantisch äquivalente Formel ersetzt wird.

\subsection*{Aufgabe 4.6 (c)}
Die Aussage stimmt nicht. Betrachte\\
$G=H=p\wedge\neg p$ und $F=\neg H$ mit $\pi=\Lambda$. Dann ist $H\to G$ allgemeingültig, aber
$F\to \underbrace{F\lceil\pi\to G\rceil}_{=H}$ ist unerfüllbar, denn $F$ ist allgemeingültig und $H$ unerfüllbar.



\end{document}